(function(t){function e(e){for(var n,s,a=e[0],u=e[1],l=e[2],h=0,g=[];h<a.length;h++)s=a[h],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&g.push(r[s][0]),r[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(g.length)g.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var u=i[a];0!==r[u]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=i[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/traffic-light/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var c=u;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},o=[],s={name:"App",mounted:function(){},methods:{timer:function(t,e){e=t,setTimeout((function t(){e>0&&setTimeout(t,1e3),e--}),1e3)}}},a=s,u=(i("034f"),i("2877")),l=Object(u["a"])(a,r,o,!1,null,null,null),c=l.exports,h=i("8c4f"),g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"containter"},[i("base-light",{class:{red:t.red,"red-off":!t.red}}),i("base-light",{class:{yellow:t.yellow,"yellow-off":!t.yellow}}),i("base-light",{class:{green:t.green,"green-off":!t.green,"green-flickering":t.flicking}}),i("div",[t._v(t._s(t.timerDuration))])],1)},m=[],f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"round"})},d=[],p={name:"BaseLight"},L=p,v=Object(u["a"])(L,f,d,!1,null,null,null),w=v.exports,y={mounted:function(){this.$store.commit("timerCountDown")},updated:function(){0==this.timerDuration&&this.$router.push(this.nextPath)},computed:{red:function(){return this.$store.getters.lightStatus("redLight")},green:function(){return this.$store.getters.lightStatus("greenLight")},yellow:function(){return this.$store.getters.lightStatus("yellowLight")},timerDuration:function(){return this.$store.getters.duration},nextPath:function(){return this.$store.getters.path},flicking:function(){return this.timerDuration<=3}}},b={components:{BaseLight:w},name:"Green",beforeCreate:function(){this.$store.commit("setPrevLight"),this.$store.commit("switchOff"),this.$store.commit("switchOn","greenLight"),this.$store.commit("setActiveLight"),this.$store.commit("setNextLight"),"greenLight"==sessionStorage.getItem("activeLight")&&sessionStorage.getItem("timer")>0?this.$store.commit("setRemainDurationFromStorage"):this.$store.commit("setRemainDuration","greenLight")},mixins:[y]},O=b,$=Object(u["a"])(O,g,m,!1,null,null,null),D=$.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"containter"},[i("base-light",{class:{red:t.red,"red-off":!t.red,"red-flickering":t.flicking}}),i("base-light",{class:{yellow:t.yellow,"yellow-off":!t.yellow}}),i("base-light",{class:{green:t.green,"green-off":!t.green}}),i("div",[t._v(t._s(t.timerDuration))])],1)},S=[],_={components:{BaseLight:w},name:"Red",beforeCreate:function(){this.$store.commit("setPrevLight"),this.$store.commit("switchOff"),this.$store.commit("switchOn","redLight"),this.$store.commit("setActiveLight"),this.$store.commit("setNextLight"),"redLight"==sessionStorage.getItem("activeLight")&&sessionStorage.getItem("timer")>0?this.$store.commit("setRemainDurationFromStorage"):this.$store.commit("setRemainDuration","redLight")},mixins:[y]},j=_,P=Object(u["a"])(j,x,S,!1,null,null,null),k=P.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"containter"},[i("base-light",{class:{red:t.red,"red-off":!t.red}}),i("base-light",{class:{yellow:t.yellow,"yellow-off":!t.yellow,"yellow-flickering":t.flicking}}),i("base-light",{class:{green:t.green,"green-off":!t.green}}),i("div",[t._v(t._s(t.timerDuration))])],1)},I=[],R={components:{BaseLight:w},name:"Yellow",beforeCreate:function(){this.$store.commit("setPrevLight"),this.$store.commit("switchOff"),this.$store.commit("switchOn","yellowLight"),this.$store.commit("setActiveLight"),this.$store.commit("setNextLight"),"yellowLight"==sessionStorage.getItem("activeLight")&&sessionStorage.getItem("timer")>0?this.$store.commit("setRemainDurationFromStorage"):this.$store.commit("setRemainDuration","yellowLight")},mixins:[y]},T=R,A=Object(u["a"])(T,C,I,!1,null,null,null),E=A.exports;n["a"].use(h["a"]);var B=new h["a"]({mode:"history",routes:[{path:"/",redirect:"/red"},{path:"/red",component:k,props:!0},{path:"/yellow",component:E,props:!0},{path:"/green",component:D,props:!0}]}),F=i("2f62");n["a"].use(F["a"]);var M=new F["a"].Store({state:{redLight:{turnedOn:!1,baseDuration:10,path:"/red"},yellowLight:{turnedOn:!1,baseDuration:3,path:"/yellow"},greenLight:{turnedOn:!1,baseDuration:15,path:"/green"},remainDuration:null,prevLight:null,activeLight:null,nextLight:null},mutations:{switchOff:function(t){t.redLight.turnedOn=!1,t.yellowLight.turnedOn=!1,t.greenLight.turnedOn=!1},switchOn:function(t,e){t[e].turnedOn=!0},setActiveLight:function(t){t.activeLight=t.redLight.turnedOn?"redLight":t.yellowLight.turnedOn?"yellowLight":"greenLight"},setPrevLight:function(t){t.prevLight=t.activeLight?t.activeLight:null},setNextLight:function(t){"redLight"!=t.activeLight&&"greenLight"!=t.activeLight?t.nextLight="redLight"==t.prevLight?"greenLight":"redLight":t.nextLight="yellowLight"},setRemainDuration:function(t,e){t.remainDuration=t[e].baseDuration},setRemainDurationFromStorage:function(t){t.remainDuration=sessionStorage.getItem("timer")},timerCountDown:function(t){setTimeout((function e(){t.remainDuration>1&&setTimeout(e,1e3),t.remainDuration--,sessionStorage.setItem("timer",t.remainDuration),sessionStorage.setItem("activeLight",t.activeLight)}),1e3)}},actions:{},getters:{lightStatus:function(t){return function(e){return t[e].turnedOn}},duration:function(t){return t.remainDuration},path:function(t){return t[t.nextLight].path}}});n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(c)},router:B,store:M}).$mount("#app")},"85ec":function(t,e,i){}});
//# sourceMappingURL=app.cb8600a2.js.map